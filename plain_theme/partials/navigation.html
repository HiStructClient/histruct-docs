{% macro render_title(nav_item) %}
    {% if nav_item.url %}
        <div class="nav-item-title {% if nav_item.active %}active{% endif %}">
            <a href="{{ nav_item.url|url }}" class="{% if nav_item.active %}active{% endif %}">
                {{ nav_item.title }}
            </a>
            {% if nav_item.file %}
                <div class="nav-file-name">{{ nav_item.file.name }}</div>
            {% endif %}
        </div>
    {% else %}
        <div class="nav-item-title {% if nav_item.active %}active{% endif %}">
            {{ nav_item.title }}
        </div>
    {% endif %}
{% endmacro %}

{% macro render_nav_item(nav_item) %}
    {% if nav_item.children %}
        <li>
            <div class="nav-item-title {% if nav_item.active %}active{% endif %}">
                {{ nav_item.title }}
                {{ nav_item.is_section }}
            </div>
            <ul>
                {% for child_item in nav_item.children %}
                    {{ render_nav_item(child_item) }}
                {% endfor %}
            </ul>
        </li>
    {% else %}
        <li>
            {{ render_title(nav_item) }}
        </li>
    {% endif %}
{% endmacro %}

{% macro render_navigation(nav_items) %}
    <ul>
        {% for nav_item in nav_items %}
            {{ render_nav_item(nav_item) }}
        {% endfor %}
    </ul>
{% endmacro %}
